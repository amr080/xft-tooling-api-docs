<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-1.0 plugin-docs plugin-id-default docs-doc-id-0x-swap-api/guides/build-token-swap-dapp-nextjs">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.0">
<title data-rh="true">How to build a token swap dApp with Swap API (Next.js) | 0x</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://0x.org/docs/img/0x-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://0x.org/docs/img/0x-social-card.jpg"><meta data-rh="true" property="og:url" content="https://0x.org/docs/0x-swap-api/guides/build-token-swap-dapp-nextjs"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="1.0"><meta data-rh="true" name="docusaurus_tag" content="docs-default-1.0"><meta data-rh="true" name="docsearch:version" content="1.0"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-1.0"><meta data-rh="true" property="og:title" content="How to build a token swap dApp with Swap API (Next.js) | 0x"><meta data-rh="true" name="description" content="Walkthrough how to build a Next.js with 0x Swap API"><meta data-rh="true" property="og:description" content="Walkthrough how to build a Next.js with 0x Swap API"><link data-rh="true" rel="icon" href="/docs/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://0x.org/docs/0x-swap-api/guides/build-token-swap-dapp-nextjs"><link data-rh="true" rel="alternate" href="https://0x.org/docs/0x-swap-api/guides/build-token-swap-dapp-nextjs" hreflang="en"><link data-rh="true" rel="alternate" href="https://0x.org/docs/0x-swap-api/guides/build-token-swap-dapp-nextjs" hreflang="x-default"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Z369GEYN6J"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-Z369GEYN6J",{anonymize_ip:!0})</script>





<script src="./docs/scripts/fullstory.js" async innerhtml="window[&#39;_fs_host&#39;] = &#39;fullstory.com&#39;;
    window[&#39;_fs_script&#39;] = &#39;edge.fullstory.com/s/fs.js&#39;;
    window[&#39;_fs_org&#39;] = &#39;o-1RR7B6-na1&#39;;
    window[&#39;_fs_namespace&#39;] = &#39;FS&#39;;
    !function(m,n,e,t,l,o,g,y){var s,f,a=function(h){
    return!(h in m)||(m.console&amp;&amp;m.console.log&amp;&amp;m.console.log(&#39;FullStory namespace conflict. Please set window[&quot;_fs_namespace&quot;].&#39;),!1)}(e)
    ;function j(b){var h,d=[];function k(){h&amp;&amp;(d.forEach((function(b){var d;try{d=b[h[0]]&amp;&amp;b[h[0]](h[1])}catch(h){return void(b[3]&amp;&amp;b[3](h))}
    d&amp;&amp;d.then?d.then(b[2],b[3]):b[2]&amp;&amp;b[2](d)})),d.length=0)}function r(b){return function(d){h||(h=[b,d],k())}}return b(r(0),r(1)),{
    then:function(b,h){return j((function(r,i){d.push([b,h,r,i]),k()}))}}}a&amp;&amp;(g=m[e]=function(){var b=function(b,d,k,r){function i(i,c){
    h(b,d,k,i,c,r)}r=r||2;var c,u=/Async$/;return u.test(b)?(b=b.replace(u,&quot;&quot;),&quot;function&quot;==typeof Promise?new Promise(i):j(i)):h(b,d,k,c,c,r)}
    ;function h(h,d,k,r,i,c){return b._api?b._api(h,d,k,r,i,c):(b.q&amp;&amp;b.q.push([h,d,k,r,i,c]),null)}return b.q=[],b}(),y=function(b){function h(h){
    &quot;function&quot;==typeof h[4]&amp;&amp;h[4](new Error(b))}var d=g.q;if(d){for(var k=0;k&lt;d.length;k++)h(d[k]);d.length=0,d.push=h}},function(){
    (o=n.createElement(t)).async=!0,o.crossOrigin=&quot;anonymous&quot;,o.src=&quot;https://&quot;+l,o.onerror=function(){y(&quot;Error loading &quot;+l)}
    ;var b=n.getElementsByTagName(t)[0];b.parentNode.insertBefore(o,b)}(),function(){function b(){}function h(b,h,d){g(b,h,d,1)}function d(b,d,k){
    h(&quot;setProperties&quot;,{type:b,properties:d},k)}function k(b,h){d(&quot;user&quot;,b,h)}function r(b,h,d){k({uid:b},d),h&amp;&amp;k(h,d)}g.identify=r,g.setUserVars=k,
    g.identifyAccount=b,g.clearUserCookie=b,g.setVars=d,g.event=function(b,d,k){h(&quot;trackEvent&quot;,{name:b,properties:d},k)},g.anonymize=function(){r(!1)
    },g.shutdown=function(){h(&quot;shutdown&quot;)},g.restart=function(){h(&quot;restart&quot;)},g.log=function(b,d){h(&quot;log&quot;,{level:b,msg:d})},g.consent=function(b){
    h(&quot;setIdentity&quot;,{consent:!arguments.length||b})}}(),s=&quot;fetch&quot;,f=&quot;XMLHttpRequest&quot;,g._w={},g._w[f]=m[f],g._w[s]=m[s],m[s]&amp;&amp;(m[s]=function(){
    return g._w[s].apply(this,arguments)}),g._v=&quot;2.0.0&quot;)}(window,document,window._fs_namespace,&quot;script&quot;,window._fs_script);"></script><link rel="stylesheet" href="/docs/assets/css/styles.effab45a.css">
<link rel="preload" href="/docs/assets/js/runtime~main.81fc3c4f.js" as="script">
<link rel="preload" href="/docs/assets/js/main.f8b18ed4.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_RBc3" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_q6Dn" style="background-color:#A2FFC1" role="banner"><div class="announcementBarPlaceholder_f0g1"></div><div class="content_tpQP announcementBarContent_uv59">📣 0x API v2 is in closed beta. Get your app ready with the <a target="_blank" rel="noopener noreferrer" href="/docs/next/category/upgrading">v2 migration guide</a> to ensure a smooth transition.</div><button type="button" aria-label="Close" class="clean-btn close closeButton_NkLk announcementBarClose_O9cL"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs/"><div class="navbar__logo"><img src="/docs/img/0x-logo.png" alt="0x Docs" class="themedImage_EY2p themedImage--light_a36Z"><img src="/docs/img/0x-logo.png" alt="0x Docs" class="themedImage_EY2p themedImage--dark_RAPR"></div></a><a class="navbar__item navbar__link" href="/docs/introduction/welcome">Docs</a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/introduction/welcome">1.0</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/next/0x-swap-api/guides/build-token-swap-dapp-nextjs">🚧 2.0 beta</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/0x-swap-api/guides/build-token-swap-dapp-nextjs">1.0</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a href="https://dashboard.0x.org/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Dashboard<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lY7B"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://discord.com/invite/official0x" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-discord-link"></a><a href="https://twitter.com/0xproject" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-twitter-link"></a><a href="https://github.com/0xProject/0x-examples" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link"></a><div class="toggle_kwAF colorModeToggle_yraK"><button class="clean-btn toggleButton_ARJM toggleButtonDisabled_h4vk" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_Oddq"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_hmTv"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_gume"><div class="mendable-search"><button id="ms-search-bar" style="background-color:#fff;border-color:#6B728033;color:#9ca3af" class="ms-global search-btn__input ms-m-0 ms-flex ms-h-10 ms-w-full ms-flex-row ms-items-center ms-justify-between ms-gap-2 ms-bg-gray-50 ms-p-1 ms-px-2 ms-outline-none ms-ring-0 ms-transition-all hover:ms-cursor-pointer sm:ms-p-2 sm:ms-px-3 ms-border ms-rounded-xl"><div class="ms-global search-btn__input-container ms-flex ms-w-full ms-min-w-0 ms-items-center ms-gap-0 sm:ms-gap-1"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" style="color:#9ca3af;fill:#9ca3af" class="search-btn__icon hover:fill-white ms-h-5 ms-w-5 ms-fill-gray-400 hover:ms-text-white focus:ms-fill-white focus:ms-text-white sm:ms-h-6 sm:ms-w-6" height="20" width="20" xmlns="http://www.w3.org/2000/svg"><path fill="none" d="M0 0h24v24H0z"></path><path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0016 9.5 6.5 6.5 0 109.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"></path></svg><div id="userInput" style="color:#9ca3af" class="ms-global search-btn__input ms-w-full ms-flex-grow ms-truncate ms-bg-transparent ms-text-sm ms-outline-none ms-ring-0 ms-ring-transparent focus:ms-outline-none focus:ms-ring-0 focus:ms-ring-transparent sm:ms-text-base ms-ml-1 ms-flex ms-items-start ms-justify-start">Search...</div></div><div style="background-color:#fff;border-color:#6B728033;color:#9ca3af" class="search-btn__shortcut ms-z-10 ms-flex ms-flex-row ms-items-center ms-gap-1 ms-rounded-lg ms-border ms-py-[2px] ms-px-[8px] ms-text-xs ms-text-gray-400 ms-transition-all disabled:ms-bg-opacity-10"><span>CTRL</span><span>K</span></div></button><div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_QDaL docsWrapper_NOCI"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_OuAX" type="button"></button><div class="docPage_vc49"><aside class="theme-doc-sidebar-container docSidebarContainer_QbHj"><div class="sidebarViewport_A8iB"><div class="sidebar_PTqm"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_ZYJB menuWithAnnouncementBar_bj1X"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" href="/docs/category/introduction">Introduction</a><button aria-label="Toggle the collapsible sidebar category &#x27;Introduction&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/introduction/welcome">Welcome</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/introduction/getting-started">Get started</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/introduction/introduction-to-0x">Introduction to 0x</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/introduction/guides">Learning resources</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/introduction/community">Support &amp; Community</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/introduction/0x-cheat-sheet">Chains, contracts, order types</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/introduction/error-codes">Error codes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developer-resources/faqs-and-troubleshooting">FAQ &amp; Troubleshooting</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/category/swap-api">Swap API</a><button aria-label="Toggle the collapsible sidebar category &#x27;Swap API&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0x-swap-api/introduction">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/docs/0x-swap-api/guides/swap-tokens-with-0x-swap-api">Guides</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0x-swap-api/guides/swap-tokens-with-0x-swap-api">Get started with Swap API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/0x-swap-api/guides/build-token-swap-dapp-nextjs">Build a token swap dApp (Next.js)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0x-swap-api/guides/how-to-build-a-token-swap-dapp-with-0x-api">Build a token swap dApp (HTML, CSS, JS)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0x-swap-api/guides/monetize-your-app-using-swap">Monetize your app</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0x-swap-api/guides/working-in-the-testnet">Working in the testnet</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/0x-swap-api/guides/accessing-rfq-liquidity/about-the-rfq-system">Accessing RFQ liquidity</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0x-swap-api/guides/use-0x-api-liquidity-in-your-smart-contracts">Use Swap API liquidity in your smart contracts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0x-swap-api/guides/troubleshooting-swap-api">Troubleshooting Swap API</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/0x-swap-api/api-references/overview">API References</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/0x-swap-api/advanced-topics/rate-limits">Advanced Topics</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/gasless-api">Gasless API</a><button aria-label="Toggle the collapsible sidebar category &#x27;Gasless API&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/orderbook-api">Orderbook API</a><button aria-label="Toggle the collapsible sidebar category &#x27;Orderbook API&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/limit-order-advanced-traders">Limit Order (Advanced Traders)</a><button aria-label="Toggle the collapsible sidebar category &#x27;Limit Order (Advanced Traders)&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/liquidity-providers">Liquidity Providers</a><button aria-label="Toggle the collapsible sidebar category &#x27;Liquidity Providers&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/developer-resources">Developer Resources</a><button aria-label="Toggle the collapsible sidebar category &#x27;Developer Resources&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a href="https://0x.org/docs/next/upgrading/upgrading_to_swap_v2" target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false">Upgrading</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/need-help">Need Help?</a><button aria-label="Toggle the collapsible sidebar category &#x27;Need Help?&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_gXcz"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_D5lV"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_sClo"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_PKDA"><div class="docItemContainer_QFIQ"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_cHyX" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/docs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_jXFD"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/swap-api"><span itemprop="name">Swap API</span></a><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Guides</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Build a token swap dApp (Next.js)</span><meta itemprop="position" content="3"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 1.0</span><div class="tocCollapsible_Xuni theme-doc-toc-mobile tocMobile_rGAa"><button type="button" class="clean-btn tocCollapsibleButton_mL4T">On this page</button></div><div class="theme-doc-markdown markdown"><h1>How to build a token swap dApp with Swap API (Next.js)</h1><p><em>An example ERC-20 swap application built on Next.js 13 with 0x Swap API.</em></p><hr><p>This guide will give you a tour of the Swap API demo app (<a href="https://0x-nextjs-demo-app-git-main-0x-eng.vercel.app/" target="_blank" rel="noopener noreferrer">live demo</a> | <a href="https://github.com/0xProject/0x-nextjs-demo-app/tree/main?tab=readme-ov-file" target="_blank" rel="noopener noreferrer">code</a>) built on Next.js. It covers core concepts that can be easily transferred into any token swapping dApp that you build.</p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_BahX"><div class="admonitionHeading_i6wc"><span class="admonitionIcon_nAy4"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_K8av"><p>This example is built with Next.js <em>Pages</em> Router. See here for an <a href="https://github.com/0xProject/0x-examples/tree/main/swap-next-app" target="_blank" rel="noopener noreferrer">example with Next.js <em>App</em> Router</a>.</p></div></div><h2 class="anchor anchorWithStickyNavbar_ZTCp" id="what-we-will-build">What we will build<a href="#what-we-will-build" class="hash-link" aria-label="Direct link to What we will build" title="Direct link to What we will build">​</a></h2><p>This example app we will be walking through, and it demonstrates many of the same principles used in production-level swapping dApps such as <a href="https://matcha.xyz/" target="_blank" rel="noopener noreferrer">Matcha.xyz</a>.</p><p>Checkout with live demo 👉 <a href="https://0x-nextjs-demo-app-git-main-0x-eng.vercel.app/" target="_blank" rel="noopener noreferrer">here</a></p><p><img loading="lazy" src="/docs/assets/images/swap-demo-gif-ad4025dfa1c6c9b0086c57ee6e2798e0.gif" width="600" height="338" class="img_D_lb"></p><p><a href="/docs/0x-swap-api/introduction">Swap API</a> enables your users to easily and conveniently trade tokens at the best prices directly in your app. With one simple integration, 0x unlocks thousands of tokens on the most popular blockchains and aggregated liquidity from 100+ AMMs and professional market makers.</p><p>This demo app covers best practices for how to use the 0x Swap API&#x27;s <a href="https://0x.org/docs/0x-swap-api/api-references/get-swap-v1-price" target="_blank" rel="noopener noreferrer">/price</a> endpoint for indicative pricing and the <a href="https://0x.org/docs/0x-swap-api/api-references/get-swap-v1-quote" target="_blank" rel="noopener noreferrer">/quote</a> endpoint for firm quotes.</p><p>Video tutorial version here:</p><iframe width="560" height="315" src="https://www.youtube.com/embed/P1ECx9zKQiU?si=8FwrE_dONghsmH9A" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"></iframe><h2 class="anchor anchorWithStickyNavbar_ZTCp" id="pre-requisites">Pre-requisites<a href="#pre-requisites" class="hash-link" aria-label="Direct link to Pre-requisites" title="Direct link to Pre-requisites">​</a></h2><p>Before diving into this walk-through, it&#x27;s essential to ensure you have the familiarity with the following tools and concepts:</p><ul><li><a href="https://react.dev/" target="_blank" rel="noopener noreferrer">React</a></li><li><a href="https://nextjs.org/" target="_blank" rel="noopener noreferrer">Next.js</a></li><li><a href="https://wagmi.sh/" target="_blank" rel="noopener noreferrer">wagmi</a></li><li><a href="https://viem.sh/" target="_blank" rel="noopener noreferrer">viem</a></li><li>An understanding of how Swap API works. If not, check out:<ul><li><a href="https://www.youtube.com/watch?v=APXjSGLaoRw" target="_blank" rel="noopener noreferrer">(video) How to build with Swap API</a></li><li><a href="/docs/0x-swap-api/introduction">(docs) Swap API Intro</a></li></ul></li></ul><p>Additionally, we will be building our token swap dApp on the <a href="https://polygon.technology/" target="_blank" rel="noopener noreferrer">Polygon</a> network, which provides a cost-effective environment for experimentation. You can always modify this app to support any of the <a href="/docs/introduction/0x-cheat-sheet">9-EVM compatible chains</a> that Swap API is deployed on.</p><div class="theme-admonition theme-admonition-info alert alert--info admonition_BahX"><div class="admonitionHeading_i6wc"><span class="admonitionIcon_nAy4"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_K8av"><p>Here is the github repo, feel free to use it to get started quickly for your own project:
<a href="https://github.com/0xProject/0x-nextjs-demo-app/tree/main" target="_blank" rel="noopener noreferrer">https://github.com/0xProject/0x-nextjs-demo-app/tree/main</a></p><p>This is a demo, and is not ready for production use. The code has not been audited and does not account for all error handling. Use at your own risk.</p></div></div><h2 class="anchor anchorWithStickyNavbar_ZTCp" id="core-concepts">Core Concepts<a href="#core-concepts" class="hash-link" aria-label="Direct link to Core Concepts" title="Direct link to Core Concepts">​</a></h2><p>To build our token swap dApp, we will focus on the following core components:</p><ul><li>👛 ConnectKit</li><li>🏷 PriceView</li><li>💸 QuoteView</li><li>🪙 Token lists</li></ul><h3 class="anchor anchorWithStickyNavbar_ZTCp" id="what-is-it">What is it?<a href="#what-is-it" class="hash-link" aria-label="Direct link to What is it?" title="Direct link to What is it?">​</a></h3><p>These components are transferable to almost any token swapping app being built.</p><p><img loading="lazy" alt="Swap dApp Core Concepts" src="/docs/assets/images/swap-core-concepts-6dc3ed8e974329a7314bfd76b2ad1cd6.png" width="960" height="540" class="img_D_lb"></p><h2 class="anchor anchorWithStickyNavbar_ZTCp" id="-connectkit">👛 ConnectKit<a href="#-connectkit" class="hash-link" aria-label="Direct link to 👛 ConnectKit" title="Direct link to 👛 ConnectKit">​</a></h2><h3 class="anchor anchorWithStickyNavbar_ZTCp" id="what-is-it-1">What is it?<a href="#what-is-it-1" class="hash-link" aria-label="Direct link to What is it?" title="Direct link to What is it?">​</a></h3><p>In order for the user to execute a trade, they will need to connect a wallet to our dApp.</p><p><a href="https://docs.family.co/connectkit" target="_blank" rel="noopener noreferrer">ConnectKit</a> is a powerful React component library for connecting a wallet to your dApp, and it supports the most popular connectors and chains, so users are not tied to just one wallet.
Under-the-hood, it uses <a href="https://wagmi.sh/" target="_blank" rel="noopener noreferrer">wagmi</a> and <a href="https://viem.sh/" target="_blank" rel="noopener noreferrer">viem</a>.</p><ul><li>Viem is a TypeScript Interface for Ethereum that provides low-level stateless primitives for interacting with Ethereum</li><li>Wagmi is a React hooks wrapper around Viem (previously Ethers)</li><li>ConnectKit is a wallet UI library that uses Wagmi and Viem</li></ul><p>ConnectKit comes built in with multiple ways to customize it and advanced features such as,</p><ul><li>Customization - theming, fonts, border radius, colors, avatar, translations</li><li>Advanced features - chains, providers, Sign In with Ethereum</li></ul><p>Below is what the wallet connect experience looks like in our <a href="https://0x-nextjs-demo-app-git-main-0x-eng.vercel.app/" target="_blank" rel="noopener noreferrer">demo app</a>:</p><p><img loading="lazy" alt="ConnecKit" src="/docs/assets/images/connectkit-wallet-0397fb1b1249cf2cb109e3570d16499e.png" width="1292" height="1190" class="img_D_lb"></p><h3 class="anchor anchorWithStickyNavbar_ZTCp" id="code">Code<a href="#code" class="hash-link" aria-label="Direct link to Code" title="Direct link to Code">​</a></h3><h4 class="anchor anchorWithStickyNavbar_ZTCp" id="setup-api-keys-for-connectkit">Setup API keys for ConnectKit<a href="#setup-api-keys-for-connectkit" class="hash-link" aria-label="Direct link to Setup API keys for ConnectKit" title="Direct link to Setup API keys for ConnectKit">​</a></h4><p>ConnectKit&#x27;s <a href="https://docs.family.co/connectkit/getting-started" target="_blank" rel="noopener noreferrer">Getting Started docs</a> is a quick way to get up to speed with the framework.</p><p>ConnectKit relies on WalletConnect&#x27;s SDK to help with connecting wallets. You will need a a <code>projectId</code> which you can get for free over at <a href="https://cloud.walletconnect.com/app" target="_blank" rel="noopener noreferrer">WalletConnect Cloud</a>. Replace code <a href="https://github.com/0xProject/0x-nextjs-demo-app/blob/main/pages/_app.tsx#L15" target="_blank" rel="noopener noreferrer">here</a>.</p><p>ConnectKit also requires an <a href="https://www.infura.io/" target="_blank" rel="noopener noreferrer">Infura</a> or <a href="https://www.infura.io/" target="_blank" rel="noopener noreferrer">Alchemy</a> API key depending on which networks your dApp requires. Replace code <a href="https://github.com/0xProject/0x-nextjs-demo-app/blob/main/pages/_app.tsx#L14" target="_blank" rel="noopener noreferrer">here</a>.</p><div class="language-typescript codeBlockContainer_jAEB theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_KvLn"><pre tabindex="0" class="prism-code language-typescript codeBlock_MJTT thin-scrollbar"><code class="codeBlockLines_ZhcI"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">// Inside /pages/_app.tsx</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token plain"> config </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">createConfig</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 250, 123)">getDefaultConfig</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// Required API Keys</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    alchemyId</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;REPLACE_WITH_YOUR_KEY&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    walletConnectProjectId</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;REPLACE_WITH_YOUR_KEY&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token operator">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre><div class="buttonGroup_yTD5"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_hEBG" aria-hidden="true"><svg class="copyButtonIcon_e3Xs" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_IS7T" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_ZTCp" id="-priceview">🏷 PriceView<a href="#-priceview" class="hash-link" aria-label="Direct link to 🏷 PriceView" title="Direct link to 🏷 PriceView">​</a></h2><h3 class="anchor anchorWithStickyNavbar_ZTCp" id="what-is-it-2">What is it?<a href="#what-is-it-2" class="hash-link" aria-label="Direct link to What is it?" title="Direct link to What is it?">​</a></h3><p>This component is for users to browse for a price without committing to a trade, aka, get the indicative price. An indicative price is used when users just want to check the price they could receive on a trade, for this we will use the <a href="/docs/0x-swap-api/api-references/get-swap-v1-price">/swap/v1/price</a> endpoint.</p><p>Later on in the QuoteView, when a user is actually ready to make a trade, the app will ping <a href="/docs/0x-swap-api/api-references/get-swap-v1-quote">/swap/v1/quote</a> which returns an order that is ready to submitted on-chain.</p><p>This is also important because <code>/quote</code> returns back an order in which a Market Maker must commit their assets to settle that trade. So if we ping <code>/quote</code> too much when we really are just asking for a price and not ready to submit an order, then this can clog up the system!</p><h3 class="anchor anchorWithStickyNavbar_ZTCp" id="uiux-walk-through">UI/UX Walk-through<a href="#uiux-walk-through" class="hash-link" aria-label="Direct link to UI/UX Walk-through" title="Direct link to UI/UX Walk-through">​</a></h3><p>And if we look through the UI, here are some notable things to callout:</p><ul><li>User selects <strong>sell</strong> and <strong>buy tokens</strong> from the token selectors</li><li>Users inputs a <strong>sellAmount</strong></li><li>Users can <strong>“Connect Wallet”</strong> powered by ConnectKit</li><li>Whenever sellAmount changes, the <strong>app fetches a price</strong> even if a wallet is not connect</li><li>Displays returned <strong>buyAmount</strong></li><li>When users find a price they like, they can connect their wallet, and switch to the correct network (e.g. Polygon), the button now says <strong>&quot;Approve</strong> if the user has enough of the sell token<ul><li>The Approval button allows users to set a token allowance</li><li>This is standard practice when users need to give a token allowance for a third-party to move funds on our behalf, in this case 0x Protocol’s smart contract, specifically the 0x Exchange Proxy to trade the user’s ERC20 tokens on their behalf.</li><li>Users can set an amount they are comfortable with, the default we’ve set is a really big number, but they can also choose only the amount they have in their wallet</li></ul></li><li>When we are happy with this trade, our approve button is now <strong>“Review Trade</strong> because we already approved the token allowance, so we can move forward</li></ul><p><img loading="lazy" src="/docs/assets/images/swap-demo-price-view-e7ec632c395f5a62fe638b0e17e65106.gif" width="720" height="480" class="img_D_lb"></p><h3 class="anchor anchorWithStickyNavbar_ZTCp" id="code-1">Code<a href="#code-1" class="hash-link" aria-label="Direct link to Code" title="Direct link to Code">​</a></h3><p>The code for this component lives in <a href="https://github.com/0xProject/0x-nextjs-demo-app/blob/main/pages/Price/index.tsx" target="_blank" rel="noopener noreferrer">/pages/Price/index.tsx</a>. The logic for when the component appears in UI is in <a href="https://github.com/0xProject/0x-nextjs-demo-app/blob/main/pages/index.tsx#L26" target="_blank" rel="noopener noreferrer">/pages/index.tsx</a>, it is displayed if the user has not clicked &quot;Review Trade&quot; to finalize the price.</p><h4 class="anchor anchorWithStickyNavbar_ZTCp" id="wrapping-api-calls-behind-pagesapi">Wrapping API calls behind /pages/api<a href="#wrapping-api-calls-behind-pagesapi" class="hash-link" aria-label="Direct link to Wrapping API calls behind /pages/api" title="Direct link to Wrapping API calls behind /pages/api">​</a></h4><p>Under-the-hood, this price query uses <a href="/docs/0x-swap-api/api-references/get-swap-v1-price">GET /swap/v1/price</a>. This API request is wrapped behind <code>/pages/api</code> using <a href="https://nextjs.org/docs/pages/building-your-application/routing/api-routes" target="_blank" rel="noopener noreferrer">Next.js API Routes</a></p><p>Why? To protect our API keys.</p><p>Instead, when the user queries for an indicative price, it pings our api setup in pages/api/price and that pings the 0x Swap API using our API key in the header</p><p>This example uses a demo key which should not be used in production or outside of this demo; however, you can get your own key by going from the 0x Dashboard and following the <a href="https://0x.org/docs/introduction/getting-started" target="_blank" rel="noopener noreferrer">Getting Started guide</a>.</p><p>In PriceView, we use the <a href="https://swr.vercel.app/" target="_blank" rel="noopener noreferrer"><code>useSWR()</code></a> hook to automatically update the UI with the price whenever the sellAmount changes. See code <a href="https://github.com/0xProject/0x-nextjs-demo-app/blob/main/pages/Price/index.tsx#L83-L108" target="_blank" rel="noopener noreferrer">here</a>.</p><h4 class="anchor anchorWithStickyNavbar_ZTCp" id="token-allowances--approvals">Token Allowances &amp; Approvals<a href="#token-allowances--approvals" class="hash-link" aria-label="Direct link to Token Allowances &amp; Approvals" title="Direct link to Token Allowances &amp; Approvals">​</a></h4><p>While on the PageView, before the user can place a trade, they must have set allowances on all tokens involved in the trade. A token allowance is required if you want a third-party to move funds on your behalf. In short, you are allowing them to move your tokens.</p><p>In our case, we would like the <a href="https://0x.org/docs/introduction/0x-cheat-sheet#exchange-proxy-addresses" target="_blank" rel="noopener noreferrer">0x Exchange Proxy smart contract</a> to trade our ERC20 tokens for us, so we will need to approve an allowance (a certain amount) for this contract to move a certain amount of our ERC20 tokens on our behalf. Read more about <a href="https://0x.org/docs/0x-swap-api/advanced-topics/how-to-set-your-token-allowances" target="_blank" rel="noopener noreferrer">token allowances</a>.</p><p><img loading="lazy" alt="token allowance ui" src="/docs/assets/images/token-allowance-ui-0c5b462edf66bb36f2362dd9a31d4409.png" width="384" height="550" class="img_D_lb"></p><p>The logic to check if the user has approved a token allowance the selected sell token is setup <a href="https://github.com/0xProject/0x-nextjs-demo-app/blob/main/pages/Price/index.tsx#L266-L324" target="_blank" rel="noopener noreferrer">here</a>.</p><ol><li>First, we need to check if the spender (0x Exchange Proxy) has an allowance already. We can use wagmi&#x27;s <a href="https://wagmi.sh/react/hooks/useContractRead" target="_blank" rel="noopener noreferrer">useContractRead()</a> hook to read from the sellToken&#x27;s &quot;allowance&quot; function.</li><li>If there is no allowance, then we will write an approval to the sellToken&#x27;s smart contract using wagmi&#x27;s <a href="https://wagmi.sh/react/prepare-hooks/usePrepareContractWrite" target="_blank" rel="noopener noreferrer">usePrepareContractWrite()</a>.</li></ol><div class="theme-admonition theme-admonition-tip alert alert--success admonition_BahX"><div class="admonitionHeading_i6wc"><span class="admonitionIcon_nAy4"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_K8av"><p>Be aware that approvals cost gas. <em>Looking for a gasless approach? Check out <a href="https://0x.org/docs/gasless-api/introduction" target="_blank" rel="noopener noreferrer">Gasless API</a>.</em></p></div></div><div class="theme-admonition theme-admonition-tip alert alert--success admonition_BahX"><div class="admonitionHeading_i6wc"><span class="admonitionIcon_nAy4"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_K8av"><p>Need to quickly revoke an allowance while testing? To revoke an allowance, you can set the allowance to 0. This can be done programmatically or through a UI such as <a href="https://revoke.cash/" target="_blank" rel="noopener noreferrer">https://revoke.cash/</a> .</p></div></div><h2 class="anchor anchorWithStickyNavbar_ZTCp" id="-quoteview">💸 QuoteView<a href="#-quoteview" class="hash-link" aria-label="Direct link to 💸 QuoteView" title="Direct link to 💸 QuoteView">​</a></h2><h3 class="anchor anchorWithStickyNavbar_ZTCp" id="what-is-it-3">What is it?<a href="#what-is-it-3" class="hash-link" aria-label="Direct link to What is it?" title="Direct link to What is it?">​</a></h3><p>The QuoteView component provides users with an overview of the transaction details before executing the token swap. Earlier in the PriceView, we provided users an indicative price because they were just browsing for pricing information, so did not need a full 0x order. On the QuoteView, users are ready to fill the order, so we need to provide them a firm quote, and the Market Makers can know to reserve the proper assets to settle the trade.</p><p><img loading="lazy" alt="swap demo quoteview" src="/docs/assets/images/swap-demo-quoteview-affiliate-fee-c538eb3ce383166db2829f1c4dc57957.png" width="1884" height="1194" class="img_D_lb"></p><h3 class="anchor anchorWithStickyNavbar_ZTCp" id="uiux-walk-through-1">UI/UX Walk-through<a href="#uiux-walk-through-1" class="hash-link" aria-label="Direct link to UI/UX Walk-through" title="Direct link to UI/UX Walk-through">​</a></h3><ul><li>Displays the <strong>sell</strong> and <strong>buy Amounts</strong> that the user pays and receives, respectively<ul><li>I’ve formatted it but you can get the symbols, decimal points for formatting from the token list. The amounts are the buy and sell Amounts returned from the quote</li></ul></li><li>From here, the user can <strong>“Place Order”</strong> which creates, signs, and sends a new transaction to the network.</li></ul><h3 class="anchor anchorWithStickyNavbar_ZTCp" id="code-2">Code<a href="#code-2" class="hash-link" aria-label="Direct link to Code" title="Direct link to Code">​</a></h3><p>The code for this component lives in <a href="https://github.com/0xProject/0x-nextjs-demo-app/blob/main/pages/Quote/index.tsx" target="_blank" rel="noopener noreferrer">/pages/Quote/index.tsx</a>. The logic for when the component appears in UI is in <a href="https://github.com/0xProject/0x-nextjs-demo-app/blob/main/pages/index.tsx#L18-L24" target="_blank" rel="noopener noreferrer">/pages/index.tsx</a>, it is displayed if the user has approved the token allowance, and clicked &quot;Review Trade&quot; to finalize the trade selection.</p><h4 class="anchor anchorWithStickyNavbar_ZTCp" id="wrapping-api-calls-behind-pagesapi-1">Wrapping API calls behind /pages/api<a href="#wrapping-api-calls-behind-pagesapi-1" class="hash-link" aria-label="Direct link to Wrapping API calls behind /pages/api" title="Direct link to Wrapping API calls behind /pages/api">​</a></h4><p>Pinging <a href="https://0x.org/docs/0x-swap-api/api-references/get-swap-v1-quote" target="_blank" rel="noopener noreferrer"><code>/swap/v1/quote</code></a> is wrapped behind <a href="https://github.com/0xProject/0x-nextjs-demo-app/blob/main/pages/api/price.ts" target="_blank" rel="noopener noreferrer"><code>/pages/api</code></a>, which is triggered by the <a href="https://swr.vercel.app/" target="_blank" rel="noopener noreferrer"><code>useSWR()</code></a> hook as we did in PriceView (<a href="https://github.com/0xProject/0x-nextjs-demo-app/blob/main/pages/Quote/index.tsx#L37-L62" target="_blank" rel="noopener noreferrer">code</a>).</p><h4 class="anchor anchorWithStickyNavbar_ZTCp" id="submitting-the-transaction-to-the-network">Submitting the transaction to the network<a href="#submitting-the-transaction-to-the-network" class="hash-link" aria-label="Direct link to Submitting the transaction to the network" title="Direct link to Submitting the transaction to the network">​</a></h4><p>The logic for this section is as follows:</p><ul><li>Fetch firm quote (<a href="https://github.com/0xProject/0x-nextjs-demo-app/blob/main/pages/Quote/index.tsx#L37-L61" target="_blank" rel="noopener noreferrer">code</a>)</li><li>Prepare the transaction that will be sent. In this case, use the <a href="https://wagmi.sh/react/prepare-hooks/usePrepareSendTransaction" target="_blank" rel="noopener noreferrer"><code>usePrepareSendTransaction()</code></a> hook and pass the required params , <code>to</code> and <code>data</code> values we get back from the quote. (<a href="https://github.com/0xProject/0x-nextjs-demo-app/blob/main/pages/Quote/index.tsx#L63-L66" target="_blank" rel="noopener noreferrer">code</a>)</li><li>Send the transaction to the network using the <a href="https://github.com/0xProject/0x-nextjs-demo-app/blob/main/pages/Quote/index.tsx#L68" target="_blank" rel="noopener noreferrer"><code>useSendTransaction()</code></a> hook.</li></ul><h2 class="anchor anchorWithStickyNavbar_ZTCp" id="-token-lists">🪙 Token lists<a href="#-token-lists" class="hash-link" aria-label="Direct link to 🪙 Token lists" title="Direct link to 🪙 Token lists">​</a></h2><h3 class="anchor anchorWithStickyNavbar_ZTCp" id="what-is-it-4">What is it?<a href="#what-is-it-4" class="hash-link" aria-label="Direct link to What is it?" title="Direct link to What is it?">​</a></h3><p>Token Lists allow users to select their desired tokens for swapping. For ERC20 tokens, these lists typically include crucial metadata - such as the token names (Wrapped Matic), symbol (MATIC), address, and logoURI - which can be leveraged by apps such as ours.</p><p>Thankfully there are several established sources that curate and open-source this information. As developers, we can choose to ingest the entire list or customize our own token lists based off of these sources.</p><h3 class="anchor anchorWithStickyNavbar_ZTCp" id="notable-lists">Notable lists<a href="#notable-lists" class="hash-link" aria-label="Direct link to Notable lists" title="Direct link to Notable lists">​</a></h3><ul><li>Trust Wallet: <a href="https://github.com/trustwallet/assets/tree/master/blockchains" target="_blank" rel="noopener noreferrer">https://github.com/trustwallet/assets/tree/master/blockchains</a></li><li>Polygon Assets github: <a href="https://github.com/maticnetwork/polygon-token-assets/tree/main/assets/tokenAssets" target="_blank" rel="noopener noreferrer">https://github.com/maticnetwork/polygon-token-assets/tree/main/assets/tokenAssets</a></li><li>Tokenlists: <a href="https://tokenlists.org/" target="_blank" rel="noopener noreferrer">https://tokenlists.org/</a></li><li>Coin Gecko: <a href="https://tokenlists.org/token-list?url=https://tokens.coingecko.com/uniswap/all.json" target="_blank" rel="noopener noreferrer">https://tokenlists.org/token-list?url=https://tokens.coingecko.com/uniswap/all.json</a></li></ul><h3 class="anchor anchorWithStickyNavbar_ZTCp" id="code-3">Code<a href="#code-3" class="hash-link" aria-label="Direct link to Code" title="Direct link to Code">​</a></h3><p>In our demo, we curated a token list in <a href="https://github.com/0xProject/0x-nextjs-demo-app/blob/main/lib/constants.ts" target="_blank" rel="noopener noreferrer"><code>/lib/constants.ts</code></a>. In production level apps, it&#x27;s common practice to maintain a token list since some apps don&#x27;t support <em>all</em> available tokens.</p><h2 class="anchor anchorWithStickyNavbar_ZTCp" id="monetize-your-swap-integration">Monetize your swap integration<a href="#monetize-your-swap-integration" class="hash-link" aria-label="Direct link to Monetize your swap integration" title="Direct link to Monetize your swap integration">​</a></h2><p>And as your business grows, Swap API offers low-friction ways to monetize your products.</p><p>Web3 teams can leverage Swap API to unlock new revenue streams by easily tapping into affiliate fee and trade surplus features. Regardless of whether you’re on a <a href="https://0x.org/pricing" target="_blank" rel="noopener noreferrer">free or paid plan</a>, monetization options are available to all integrators.</p><p>Swap API offers two monetization options out-of-the-box:</p><ul><li>Collect affiliate fees (i.e. trading fee or commission) &lt;- shown in this demo app</li><li>Collect trade surplus (i.e. positive slippage)</li></ul><p>For more details about monetizing, check out the <a href="/docs/0x-swap-api/guides/monetize-your-app-using-swap">How to monetize your app using 0x Swap API</a> guide which discusses pricing considerations and shows code samples for how to easily implement these options.</p><h2 class="anchor anchorWithStickyNavbar_ZTCp" id="try-it-out">Try it out<a href="#try-it-out" class="hash-link" aria-label="Direct link to Try it out" title="Direct link to Try it out">​</a></h2><div class="theme-admonition theme-admonition-info alert alert--info admonition_BahX"><div class="admonitionHeading_i6wc"><span class="admonitionIcon_nAy4"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_K8av"><p>Here is code for the demo app, feel free to use it to get started quickly for your own project: <a href="https://github.com/0xProject/0x-nextjs-demo-app/tree/main" target="_blank" rel="noopener noreferrer">https://github.com/0xProject/0x-nextjs-demo-app/tree/main</a></p></div></div><h2 class="anchor anchorWithStickyNavbar_ZTCp" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">​</a></h2><p>By following the best practices outlined in this blog post, you can create a user-friendly and effective dApp that enables trustless token swapping on our <a href="/docs/0x-swap-api/introduction#supported-networks">9 supported chains</a>.</p><p>Happy swapping!</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/0x-swap-api/guides/swap-tokens-with-0x-swap-api"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Get started with Swap API</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/0x-swap-api/guides/how-to-build-a-token-swap-dapp-with-0x-api"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Build a token swap dApp (HTML, CSS, JS)</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_vpdH thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#what-we-will-build" class="table-of-contents__link toc-highlight">What we will build</a></li><li><a href="#pre-requisites" class="table-of-contents__link toc-highlight">Pre-requisites</a></li><li><a href="#core-concepts" class="table-of-contents__link toc-highlight">Core Concepts</a><ul><li><a href="#what-is-it" class="table-of-contents__link toc-highlight">What is it?</a></li></ul></li><li><a href="#-connectkit" class="table-of-contents__link toc-highlight">👛 ConnectKit</a><ul><li><a href="#what-is-it-1" class="table-of-contents__link toc-highlight">What is it?</a></li><li><a href="#code" class="table-of-contents__link toc-highlight">Code</a></li></ul></li><li><a href="#-priceview" class="table-of-contents__link toc-highlight">🏷 PriceView</a><ul><li><a href="#what-is-it-2" class="table-of-contents__link toc-highlight">What is it?</a></li><li><a href="#uiux-walk-through" class="table-of-contents__link toc-highlight">UI/UX Walk-through</a></li><li><a href="#code-1" class="table-of-contents__link toc-highlight">Code</a></li></ul></li><li><a href="#-quoteview" class="table-of-contents__link toc-highlight">💸 QuoteView</a><ul><li><a href="#what-is-it-3" class="table-of-contents__link toc-highlight">What is it?</a></li><li><a href="#uiux-walk-through-1" class="table-of-contents__link toc-highlight">UI/UX Walk-through</a></li><li><a href="#code-2" class="table-of-contents__link toc-highlight">Code</a></li></ul></li><li><a href="#-token-lists" class="table-of-contents__link toc-highlight">🪙 Token lists</a><ul><li><a href="#what-is-it-4" class="table-of-contents__link toc-highlight">What is it?</a></li><li><a href="#notable-lists" class="table-of-contents__link toc-highlight">Notable lists</a></li><li><a href="#code-3" class="table-of-contents__link toc-highlight">Code</a></li></ul></li><li><a href="#monetize-your-swap-integration" class="table-of-contents__link toc-highlight">Monetize your swap integration</a></li><li><a href="#try-it-out" class="table-of-contents__link toc-highlight">Try it out</a></li><li><a href="#conclusion" class="table-of-contents__link toc-highlight">Conclusion</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">APIs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/category/swap-api">Swap API</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/category/gasless-api">Gasless API</a></li></ul></div><div class="col footer__col"><div class="footer__title">Developers</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://dashboard.0x.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Login/Sign Up</a></li><li class="footer__item"><a href="https://www.0x.org/content-hub" target="_blank" rel="noopener noreferrer" class="footer__link-item">Content Hub</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/developer-resources/faqs-and-troubleshooting">FAQs &amp; Troubleshooting</a></li><li class="footer__item"><a href="https://status.0x.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">0x System Status</a></li><li class="footer__item"><a href="https://sepoliafaucet.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Sepolia Faucet</a></li><li class="footer__item"><a href="https://www.alchemy.com/gwei-calculator" target="_blank" rel="noopener noreferrer" class="footer__link-item">Gwei Calculator</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://twitter.com/0xproject" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lY7B"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024</div></div></div></footer></div>
<script src="/docs/assets/js/runtime~main.81fc3c4f.js"></script>
<script src="/docs/assets/js/main.f8b18ed4.js"></script>
</body>
</html>